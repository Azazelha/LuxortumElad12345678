"""
Luxortum - Платформа божественної симуляції
Точка входу для розгортання на зовнішніх платформах
"""
import os
# Встановлюємо змінну середовища, щоб вказати, що запуск відбувається через Gunicorn
os.environ['GUNICORN_ENVIRONMENT'] = 'true'

# Імпортуємо Flask додаток
from app import app

# Імпортуємо функцію налаштування планувальника та запускаємо її
from app import setup_scheduler

# Запускаємо планувальник автономних симуляцій
try:
    setup_scheduler()
    print("WSGI: Планувальник автономної симуляції успішно налаштовано")
except Exception as e:
    print(f"WSGI: Помилка при налаштуванні планувальника: {str(e)}")

if __name__ == '__main__':
    # Цей блок виконується при прямому запуску wsgi.py
    # Але не при запуску через Gunicorn 
    app.run(host='0.0.0.0', port=5000)